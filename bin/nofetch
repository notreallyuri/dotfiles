#!/usr/bin/env zsh

set -e

LOGO_DIR="$HOME/.config/fastfetch/logos"
DEFAULT_LOGO="nvim_user"

# Remove leading -- if present
LOGO_NAME="${1#--}"

# Use default if empty
LOGO_NAME="${LOGO_NAME:-$DEFAULT_LOGO}"

if [[ -f "$LOGO_DIR/$LOGO_NAME" ]]; then
  fastfetch --logo "$LOGO_DIR/$LOGO_NAME" --logo-type file
else
  print "Error: Logo '$LOGO_NAME' not found in $LOGO_DIR"
  print "Available options:"

  for file in "$LOGO_DIR"/*(.N); do
    print "  --${file:t}"
  done | sort

  exit 1
fi
